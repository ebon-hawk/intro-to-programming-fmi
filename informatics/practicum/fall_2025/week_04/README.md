# Битови операции

Побитовите операции са основен инструмент при работа с целочислени типове в компютърната памет, защото се извършват директно върху индивидуалните битове. Те са изключително бързи, тъй като процесорът може да ги изпълнява чрез една единствена инструкция, използвайки вградените логически схеми за операции като AND, OR, XOR, NOT и SHIFT.

---

### Задача 1 → Степен на двойката

Напишете програма, която по дадено цяло неотрицателно число `k < 64` пресмята стойността на `2^k`.

```
Вход:
5

Изход:
32
```

### Задача 2 → Извличане на бит

По въведени цели неотрицателни числа `N` и `k`, изведете `k`-тия бит на числото `N`.

```
Вход:
13 2

Изход:
1
```

### Задача 3 → Нулиране на бит

Променете `k`-тия бит на цяло неотрицателно число, така че неговата стойност да стане `0`.

```
Вход:
13 0

Изход:
12
```

### Задача 4 → Задаване на бит

Променете `k`-тия бит на цяло неотрицателно число, така че неговата стойност да стане `1`.

```
Вход:
8 0

Изход:
9
```

### Задача 5 → Обръщане на бит

Обърнете (инвертирайте) `k`-тия бит на цяло неотрицателно число.

```
Вход:
10 1

Изход:
8
```

### Задача 6 → Обръщане на младшите пет бита

Обърнете (инвертирайте) младшите пет бита на цяло неотрицателно число.

```
Вход:
29

Изход:
2
```

### Задача 7 → Проверка за четност

Напишете програма, която чрез побитови операции проверява дали дадено цяло число е четно или нечетно.

### Задача 8 → Размяна на стойности без междинна променлива

Разменете стойностите на две целочислени променливи, използвайки само побитови операции.

> **Бележка:** Задачата има учебна цел - да се упражнят побитовите операции, а не да се демонстрира ефективен алгоритъм за размяна. Стандартният подход с помощна променлива е обикновено по-бърз, по-разбираем и по-надежден.

### Задача 9* → Декодиране на съобщение от три символа

Съобщение от три символа (по 1 байт всеки, т.е. 8 бита) е кодирано по следния начин: при първия символ най-младшите 2 бита са преместени, за да станат най-старши; при втория символ най-старшият и най-младшият бит са разменени; а при третия символ са обърнати всички средни 4 бита.

Напишете програма, която въвежда три цели числа, декодира ги и извежда оригиналното съобщение.

```
Вход:
216 224 72

Изход:
cat
```

### Задача 10* → Едноточково кръстосване (ДР1, 2024-2025)

Едноточковото кръстосване е операция в генетичните алгоритми, при която част от "хромозомата" на един индивид се комбинира с част от друга, за да се получи ново поколение.

Нека хромозомите на двама родителски индивида са представени чрез цели числа без знак.

Пример с две 8-битови цели числа:

```
Родител 1: 10010110
Родител 2: 11010001
```

Нека точката на кръстосване бъде позиция 5. След размяната на частите:

```
Потомък 1: 10010001
Потомък 2: 11010110
```

Напишете програма, която приема две цели числа без знак като вход (родителските хромозоми), извършва едноточково кръстосване в избрана позиция и отпечатва двете нови хромозоми в шестнадесетичен формат.

> **Бележка:** В реалните генетични алгоритми точката на кръстосване често се избира случайно, за да се увеличи разнообразието на популацията. При задачи за начинаещи може да се използва фиксирана позиция, което улеснява разбирането на основната техника, без да се изисква работа с генератори на случайни числа (`rand()`).

---

### Теоретичен обзор

Основни побитови оператори и тяхното действие върху битовете:

| Оператор | Име | Действие |
| :---: | :---: | :---: |
| `&` | Побитово И (AND) | Резултатът е 1 само ако и двата съответни бита са 1 |
| `\|` | Побитово ИЛИ (OR) | Резултатът е 1, ако поне един от съответните битове е 1 |
| `^` | Побитово изключващо ИЛИ (XOR) | Резултатът е 1, ако само един от съответните битове е 1 (битовете са различни) |
| `~` | Побитово отрицание (NOT) | Инвертира всеки бит (0 става 1, 1 става 0) |
| `<<` | Изместване наляво | Измества всички битове наляво |
| `>>` | Изместване надясно | Измества всички битове надясно |

Побитовите операции могат да се прилагат само върху цели типове като `char`, `int`, `long`, `short`, `uint8_t` и други.

| Тип                   | Разрешено?          | Бележка                                                                  |
| --------------------- | ------------------- | ------------------------------------------------------------------------ |
| `int`, `unsigned int` | Да                  | Най-често използвани                                                     |
| `signed` типове       | Да, но с особености | При знакови числа трябва да се внимава с побитови отмествания и инверсия |
| `double`, `float`     | Не                  | Не поддържат побитови операции                                           |

Знаковите цели числа обикновено се представят в [допълнение до две](https://en.wikipedia.org/wiki/Two%27s_complement).

Това означава, че най-левият бит е знаков (0 - положително, 1 - отрицателно) и че отрицателното число `-N` се представя като `(~N) + 1`.

Пример (8 бита):

| Описание    | Двоично    | Десетично         |
| ----------- | ---------- | ----------------- |
| `-5`        | `11111011` | 251 (в модул 256) |
| `~(-5)`     | `00000100` | 4                 |
| `~(-5) + 1` | `00000101` | 5                 |