# Динамична памет

### 1. Къде се намира тази променлива?

```c
int x = 10;
```

### 2. Кога умира тази променлива?

```c
void f() {
    int y = 5;
}
```

### 3. Кога се създава `counter` и колко време живее?

```c
void f() {
    static int counter = 0;
}
```

### 4. Кой трябва да освободи паметта и защо?

```c
int* p = malloc(100 * sizeof(int));
```

### 5. Безопасен ли е този `return`? Какво греши и защо е опасно?

```c
int* foo() {
    int a = 42;
    return &a;
}
```

### 6. Работи ли безопасно? Какво трябва да прави кодът, който извиква тази функция?

```c
char* make() {
    char* p = malloc(20);
    strcpy(p, "Hello!");
	
    return p;
}
```

### 7. Кой от двата указателя е валиден след `return`?

```c
int* a() {
    int x = 10;
    return &x;
}

int* b() {
    int* p = malloc(sizeof(int));
	
    *p = 10;
    return p;
}
```

### 8. Какво съдържа `x` и какво съдържа `&x`?

```c
int x = 10;
```

### 9. Какво печата програмата и какво означава `*p`?

```c
int x = 7;
int* p = &x;
printf("%d\n", *p);
```

### 10. Какво ще се случи и защо е грешка?

```c
int* p;

*p = 42;
```

### 11. Каква е разликата между `&x` и `p`? Какво се случва с данните след излизане от функция?

```c
int x = 10;
int* p = malloc(sizeof(int));
```

### 12. Какво ще се отпечата и защо?

```c
int x = 10;
int y = 20;
int* p = &x;

*p = y;
printf("%d\n", x);
```

### 13. Как така две променливи (`p` и `q`) променят едно и също място?

```c
int x = 10;
int* p = &x;
int* q = p;

*q = 77;
printf("%d\n", x);
```

### 14. Мини-пъзел със стойност + адрес

```c
int x = 5;
int* p = &x;

*p = *p + 10;
printf("%d\n", x);
```

### 15. Какво се печата и защо `arr` се държи като указател?

```c
int arr[3] = {1, 2, 3};
int* p = arr;
printf("%d\n", *(p + 1));
```

### 16. Какво е `pp`? Защо ни трябва такова нещо?

```c
int x = 5;
int* p = &x;
int** pp = &p;
```

### 17. Защо `x` не се променя? Какъв е правилният начин да се промени указател във функция?

```c
void foo(int *p) {
    int a = 99;
    p = &a;
}

int main() {
    int x = 10;
	
    foo(&x);
    printf("%d\n", x);
}
```

### 18. Какво прави този израз? Какво е крайното състояние на `arr` и `p`?

```c
int arr[] = { 10, 20, 30 };
int* p = arr;

++*p++;
```